<html>
    <head>

        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <link href=/static/css/main.css rel="stylesheet" type="text/css">
        <title>Pythonè®¾è®¡æ¨¡å¼</title>
    </head>
    <body>
        <h1>è®¾è®¡æ¨¡å¼</h1>
<p>è®¾è®¡æ¨¡å¼æ˜¯å¯¹ç‰¹å®šæƒ…å¢ƒä¸‹è§£å†³é—®é¢˜çš„ä»£ç çš„æŠ½è±¡</p>
<h1>Pythonè®¾è®¡æ¨¡å¼</h1>
<h2>ç­–ç•¥æ¨¡å¼(Strategy Pattern)</h2>
<p><strong>åœºæ™¯:</strong><br/>
ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§åœ¨è¿è¡Œæ—¶(runtime)å†³å®šç¨‹åºå…·ä½“è¡Œä¸ºçš„è¡Œä¸ºæ¨¡å¼ã€‚</p>
<p><strong>æ¨¡å¼:</strong><br/>
context 1: class_1 <br/>
context 2: class_2 <br/></p>
<pre><code>class StrategyPattern(object):

    def __init__(self, class_1, class_2, context):
        self.context = context
        self.class_1 = class_1
        self.class_2 = class_2

    def operation(self):
        if self.context == "context_for_class_1":
            self.class_1.operation()
        else:
            self.class_2.operation()
</code></pre>
<p>è¿™ä¸ªç­–ç•¥æ¨¡å¼ç”¨äºåˆå¹¶ä¸åŒcontextä¸­çš„ä¸¤ä¸ªç±»æ“ä½œ, ä¸Šå±‚çš„ç­–ç•¥æ¨¡å¼ç±»è¿›è¡Œè°ƒåº¦,
é¿å…äº†æ¯ä¸ªä½¿ç”¨class_1æˆ–class_2çš„contextè¿›è¡Œé‡å¤åˆ¤æ–­.</p>
<h2>é€‚é…å™¨æ¨¡å¼(Adapter Pattern)</h2>
<p><strong>åœºæ™¯:</strong><br/>
é€‚é…å™¨å°±æ˜¯å°è£…, å°†å¯èƒ½å¤šæ¬¡ä½¿ç”¨çš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªé€‚é…å™¨(å°è£…)ç±»ä¸­,
é¿å…ä¸‹æ¬¡ä½¿ç”¨æ—¶ä»å¤´å¼€å§‹ç¼–å†™.</p>
<p><strong>æ¨¡å¼:</strong><br/></p>
<pre><code>class Operation1(object):
    def operation1(self):
        pass

class Operation2(object):
    def operation2(self):
        pass

class AdapterClass(object):
    def operation(self):
        o1 = Operation1()
        o2 = Operation2()

        o1.operation1()
        o2.operation2()
</code></pre>
<h2>å·¥å‚æ¨¡å¼(Factory Pattern)</h2>
<p><strong>åœºæ™¯:</strong><br/>
é¡¾åæ€ä¹‰, å·¥å‚æ¨¡å¼ç”¨äºç”Ÿäº§å®ä¾‹å¯¹è±¡,
ä½¿ç”¨å·¥å‚æ¨¡å¼çš„æœ€å¥½æ—¶æœºæ˜¯ç”Ÿäº§å‡ºçš„å¯¹è±¡å®ä¾‹åœ¨ä¸åŒä¸Šä¸‹æ–‡ä¸­æœ‰ä¸åŒçš„è¡¨ç°.</p>
<p><strong>æ¨¡å¼:</strong><br/>
Button: æŒ‰é’®ç±»ğŸ”˜ <br/>
Image: å›¾åƒæŒ‰é’®: <code>&lt;img&gt;&lt;/img&gt;</code> <br/>
Input: è¾“å…¥æŒ‰é’®: <code>&lt;input&gt;&lt;/input&gt;</code> <br/>
Flash: flashæŒ‰é’®: <code>&lt;obj&gt;&lt;/obj&gt;</code> <br/>
ButtonFactory: æŒ‰é’®å·¥å‚ç±»<br/></p>
<pre><code>class Button(object):
    html = ''
    def get_html(self):
        return self.html

class Image(Button):
    html = '&lt;img&gt;&lt;/img&gt;'

class Input(Button):
    html = '&lt;input&gt;&lt;/input&gt;'

class Flash(Button):
    html = '&lt;obj&gt;&lt;/obj&gt;'

class ButtonFactory(object):
    def create_button(self, typ):
        target_class = typ.capitalize() # capitalize string
        # globals capitalize string -&gt; class
        return globals()[target_class]()
</code></pre>
<p>ä½¿ç”¨:</p>
<pre><code>button_obj = ButtonFactory()
button_type = ['image', 'input', 'flash']
for button in button_type:
    button_obj.create_button(button)
</code></pre>
<p>ååˆ†ç®€ä»‹ã€æ¸…æ¥š.</p>
<h2>è£…é¥°å™¨æ¨¡å¼</h2>
<p><strong>åœºæ™¯:</strong><br/>
è£…é¥°å™¨æ¨¡å¼ç”¨äºåœ¨ç‰¹å®šåœºæ™¯å¯¹æŸä¸ªæ“ä½œæ·»åŠ é¢å¤–çš„åŠŸèƒ½.</p>
<p><strong>æ¨¡å¼:</strong><br/>
æ¯”å¦‚åšä¸€ä¸ªéº¦å½“æœ±æ±‰å ¡ğŸ” <br/>
è¿™æ˜¯åŸæ–™:</p>
<pre><code>class Meet(object):
    def __repr__(self):
        return "æˆ‘æ˜¯è‚‰"

class Bread(object):
    def __repr__(self):
        return "æˆ‘æ˜¯é¢åŒ…"
</code></pre>
<p>å¼€å§‹ç”Ÿäº§:</p>
<pre><code>def produce_meet():
    meet = Meet()
    return meet.__repr__()

def produce(produce_meet):
    bread1 = Bread()
    bread2 = Bread()
    def decorator():
        bread1.__repr__()
        produce_meet()
        bread2.__repr__()
    return decorator
</code></pre>
<p>ä¸ªäººå¾ˆå–œæ¬¢è£…é¥°å™¨æ¨¡å¼, è£…é¥°å™¨æ¨¡å¼æ˜¯ä»£ç é‡ç”¨çš„æœ€ä¼˜é›…å¢ƒç•Œ, ç‰¹åˆ«æ˜¯ç»“åˆPythonçš„è¯­æ³•ç³–@ä½¿ç”¨.</p>
<h2>å•ä¾‹æ¨¡å¼</h2>
<p><strong>åœºæ™¯:</strong><br/>
å•ä¾‹æ¨¡å¼ä¿è¯æˆ‘ä»¬åœ¨è¿è¡Œç¯å¢ƒ(runtime)ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹.</p>
<p><strong>æ¨¡å¼:</strong><br/>
è¿™é‡Œä»¥tornadoçš„IOLoopç±»æºç ä¸ºä¾‹:
<img alt="IOLoop" src="http://7xj431.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-05-08%20%E4%B8%8B%E5%8D%8810.09.51.png" /> <br/> å•ä¾‹æ¨¡å¼å¯ä»¥ä¿è¯åœ¨åŒä¸€æ—¶å€™åªæœ‰ä¸€ä¸ªIOLoopå®ä¾‹è¿è¡Œ.</p>
<h1>æ€»ç»“</h1>
<p>è®¾è®¡æ¨¡å¼æ˜¯å¯¹é—®é¢˜çš„æ€»ç»“, å¯¹è§£å†³é—®é¢˜ä»£ç çš„æŠ½è±¡; ä½†æ˜¯ä¸è¦æ‹˜æ³¥äºä¸€å®šè¦ç”¨è®¾è®¡æ¨¡å¼,
å½“ä½ è§‰å¾—ä½ çš„ä»£ç å†™çš„å¾ˆä¸‘çš„æ—¶å€™, å¯ä»¥è€ƒè™‘ç”¨è®¾è®¡æ¨¡å¼æ•´å®¹ä½ çš„ä»£ç .</p>
<h1>å‚è€ƒ</h1>
<ul>
<li><a href="https://segmentfault.com/a/1190000003931281">ä½¿ç”¨Pythonè§£é‡Šè®¾è®¡æ¨¡å¼</a></li>
</ul>
        <div id="disqus_thread"></div>
        <script>
        /**
        * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */
        /*
        var disqus_config = function () {
        this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        */
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//neo1218flask.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </body>
</html>
