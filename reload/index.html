<html>
    <head>

        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <link href=/static/css/main.css rel="stylesheet" type="text/css">
        <title>Why Reload?</title>
    </head>
    <body>
        <h2>è®¾å®šç¼–ç çš„æƒ¯ä¾‹</h2>
<p>å½“è®¾å®špythonæ–‡ä»¶ç¼–ç æ—¶</p>
<pre><code>import sys

reload(sys)
sys.setdefaultencoding('utf-8')
</code></pre>
<p>ä¸‰è¡Œæå®šï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæ±‰å­—ä¹±ç äº†ï¼ğŸ˜„</p>
<h2>ç„¶è€Œï¼šé—®é¢˜æ¥äº†</h2>
<p>å‡ ä¸ªæœˆåçš„ä¸€å¤©ï¼Œä¸€åå¥³ç¨‹åºå‘˜é—®æˆ‘ï¼šä¸ºä»€ä¹ˆè¦ reload(sys) ? ğŸ˜”</p>
<h2>SO: Why reload(sys)</h2>
<h3>1. sys</h3>
<pre><code>sys æ˜¯ä¸€ä¸ªpythonæ¨¡å—ï¼ŒåŒ…å«ç³»ç»Ÿå¯¹åº”çš„åŠŸèƒ½ï¼Œæ¯”å¦‚é€šè¿‡argvè·å–è¿è¡Œæ—¶å‘½ä»¤è¡Œå‚æ•°
</code></pre>
<p>å…·ä½“è§http://www.cnblogs.com/diege/archive/2012/10/03/2710776.html <br/></p>
<h3>2. setdefaultencoding å‡½æ•°</h3>
<pre><code>setdefaultencoding æ˜¯sysæ¨¡å—æä¾›çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥&lt;strong&gt;ä¿®æ”¹é»˜è®¤ç¼–ç &lt;/strong&gt;&lt;br/&gt;
</code></pre>
<h3>3. python åŠ è½½æ¨¡å—çš„è¿‡ç¨‹</h3>
<pre><code>è¿è¡Œè§£é‡Šå™¨ -&gt; åŠ è½½åº“æ–‡ä»¶(ex: site.py) -&gt; åŠ è½½æ¨¡å—(ex: sys)
</code></pre>
<h3>4. python reload å‡½æ•°</h3>
<pre><code>reload æ˜¯pythonå†…ç½®å‡½æ•°ï¼Œç”¨äºåœ¨å½“å‰è¿è¡Œæ—¶é‡æ–°åŠ è½½æ¨¡å—ï¼Œä¸ä¼šæ”¹å˜å…ˆå‰æ–‡ä»¶ä¸­çš„æ¨¡å—çŠ¶æ€
</code></pre>
<h3>5. reload(sys)</h3>
<p>å¦‚æœæˆ‘ä»¬å°è¯•è¿è¡Œ</p>
<pre><code>&gt;&gt; import sys
&gt;&gt; sys.setdefaultencoding('utf-8')
AttributeError: 'module' object has no attribute 'setdefaultencoding'
</code></pre>
<p>è¿™åˆæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ<br/>
å½“æˆ‘ä»¬å¯¼å…¥åŠ è½½ sys æ¨¡å—æ—¶é¦–å…ˆä¼šåŠ è½½ site.py(/usr/lib/python2.7), çœ‹ä¸€ä¸‹ site.py çš„æºç ï¼š
<img alt="æºç " src="http://7xj431.com1.z0.glb.clouddn.com/å±å¹•å¿«ç…§%202015-09-08%20ä¸‹åˆ11.17.14.png" /><br/></p>
<p>åŸæ¥setdefaultencodingå‡½æ•°è¢«site.pyåˆ æ‰å•¦ï¼è‡³äºä¸ºä»€ä¹ˆè¦åˆ ï¼Œæ³¨é‡Šé‡Œå†™äº†ï¼šä½¿ç”¨æˆ·æ— æ³•åœ¨åˆå§‹åŒ–åæ”¹å˜ç¼–ç <br/>
è€Œ reload(sys) åˆ™é¿å…äº†site.pyçš„è°ƒç”¨ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ setdefaultencoding å‡½æ•°æ”¹å˜ç¼–ç <br/></p>
    </body>
</html>
